(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[5],{78:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(29),r=n(0),c=n.n(r),i=n(22);function u(e){var t=e.name,n=Object(a.a)(e,["name"]),u=Object(r.useRef)(null),l=Object(i.c)(t),o=l.fieldName,s=l.registerField,m=l.error;return Object(r.useEffect)((function(){s({name:o,ref:u.current,path:"value"})}),[o,s]),c.a.createElement(c.a.Fragment,null,c.a.createElement("input",Object.assign({},n,{ref:u})),m&&c.a.createElement("span",null,m))}},90:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var a=n(14),r=n.n(a),c=n(19),i=n(0),u=n.n(i),l=n(3),o=n(10),s=n(85),m=n(20),f=n.n(m),p=n(84),d=n.n(p),h=n(15),E=n(78),b=n(28),w=n(21);function g(e){var t=(e.location.state||{from:{pathname:"/"}}).from,n=Object(i.useRef)(null),a=Object(i.useContext)(h.a),m=a.user,p=a.isAuth,g=Object(l.f)();function v(){return(v=Object(c.a)(r.a.mark((function e(a,i){var o,m,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=i.reset,e.prev=1,m=s.b().shape({email:s.c().email("Type a valid email").required("Email is required"),password:s.c().min(6,"Minimum of 6 characters").required("Password is required")}),e.next=5,m.validate(a,{abortEarly:!1});case 5:return function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f()({method:"post",url:"http://localhost:5000/auth/authenticate/",data:t});case 2:e.sent.data.loginFailed?d.a.fire({icon:"error",title:"Wrong login or password"}):(d.a.fire({icon:"success",title:"You're logged in"}),g.push("/"),setTimeout((function(){window.location.reload()}),1500));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(a),n.current.setErrors({}),o(),e.abrupt("return",u.a.createElement(l.a,{to:t}));case 12:e.prev=12,e.t0=e.catch(1),e.t0 instanceof s.a&&(p={},e.t0.inner.forEach((function(e){p[e.path]=e.message})),n.current.setErrors(p));case 15:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}return u.a.createElement(w.b,null,p?u.a.createElement("h1",null,"Welcome, ",m.name,"! You're logged in"):u.a.createElement(w.b,null,u.a.createElement(b.c,{ref:n,onSubmit:function(e,t){return v.apply(this,arguments)}},u.a.createElement(w.e,null,u.a.createElement(b.d,{htmlFor:"email"},"Email:"),u.a.createElement(E.a,{type:"email",name:"email"})),u.a.createElement(w.e,null,u.a.createElement(b.d,{htmlFor:"password"},"Password:"),u.a.createElement(E.a,{type:"password",name:"password"})),u.a.createElement(b.b,{type:"submit"},"Log in")),u.a.createElement(b.e,null,"Don't have an account? ",u.a.createElement(o.b,{to:"/signin"},"Signin"))))}}}]);
//# sourceMappingURL=5.9544df1c.chunk.js.map